数据库分库
单库千万数据量

容量评估
数据量，请求量，读写比例


数据量大：分片，水平和垂直
可用性：复制，（数据库和服务）


读多写少
1.读写分离，扩充从库
2.缓存
问题：数据一致性
缓存，双淘汰：写前淘汰缓存，1秒后异步淘汰

读性能：索引